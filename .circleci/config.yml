version: 2.1
executors:
  debian11-amd64:
    docker:
      - image: amd64/debian:bullseye
  debian11-arm64:
    docker:
      - image: arm64v8/debian:bullseye
    resource_class: arm.medium
  debian12-amd64:
    docker:
      - image: amd64/debian:bookworm
  debian12-arm64:
    docker:
      - image: arm64v8/debian:bookworm
    resource_class: arm.medium

commands:
  setup:
    steps:
      - run:
          name: Creating Dummy Artifacts
          command: |
            mkdir /tmp/artifacts;
            uname -a > /tmp/artifacts/uname.txt;
            cp /etc/os-release /tmp/artifacts
jobs:
  debian11-arm64:
    executor: debian11-amd64
    steps:
      - setup

workflows:
  build:
    jobs:
      - debian11-arm64
